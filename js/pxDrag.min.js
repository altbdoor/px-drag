// pxDrag 1.0 | (C) 2013 altbdoor | Licensed under MIT
var pxDrag=function(r,q,f){(function(){Event.prototype.preventDefault||(Event.prototype.preventDefault=function(){this.returnValue=!1});Event.prototype.stopPropagation||(Event.prototype.stopPropagation=function(){this.cancelBubble=!0});if(!Element.prototype.addEventListener){var a=[],k=function(g,e){var b=this,c=function(a){a.target=a.srcElement;a.currentTarget=b;e.handleEvent?e.handleEvent(a):e.call(b,a)};this.attachEvent("on"+g,c);a.push({object:this,type:g,listener:e,wrapper:c})},l=function(g,
e){for(var b=0;b<a.length;b++){var c=a[b];if(c.object==this&&c.type==g&&c.listener==e){this.detachEvent("on"+g,c.wrapper);break}}};Element.prototype.addEventListener=k;Element.prototype.removeEventListener=l;HTMLDocument&&(HTMLDocument.prototype.addEventListener=k,HTMLDocument.prototype.removeEventListener=l);Window&&(Window.prototype.addEventListener=k,Window.prototype.removeEventListener=l)}})();var a=r,m=q?q:a.parentNode,n=m.clientWidth-a.offsetWidth,p=m.clientHeight-a.offsetHeight;f=f?f:0>=n||
0>=p?"pan":"move";"pan"==f?toBind=m:"move"==f&&(toBind=a);toBind.addEventListener("mousedown",function(d){function k(h){h=h||window.event;var b=h.clientX-c;h=h.clientY-f;document.body.style.cursor="move";0>=n||0>=p?(a.style.marginLeft=Math.max(Math.min(0,b),n)+"px",a.style.marginTop=Math.max(Math.min(0,h),p)+"px"):(a.style.marginLeft=Math.max(0,Math.min(n,b))+"px",a.style.marginTop=Math.max(0,Math.min(p,h))+"px")}function l(a){a.preventDefault()}d=d||window.event;var g=d.clientX,e=d.clientY;d.stopPropagation();
if(document.all&&document.querySelector){d=(a.style.marginLeft||a.currentStyle.marginLeft).replace("px","");var b=(a.style.marginTop||a.currentStyle.marginTop).replace("px","")}else d=(a.style.marginLeft||window.getComputedStyle(a).marginLeft).replace("px",""),b=(a.style.marginTop||window.getComputedStyle(a).marginTop).replace("px","");var c=g-d,f=e-b;document.addEventListener("mousemove",k,!1);document.addEventListener("selectstart",l,!1);document.addEventListener("mouseup",function(a){document.body.style.cursor=
"";document.removeEventListener("mousemove",k,!1);document.removeEventListener("selectstart",l,!1)});m.addEventListener("dragstart",function(a){a.preventDefault()},!1)},!1)};